# ARCHITECTURE.md

## ะััะธัะตะบัััะฐ ะกะธััะตะผั ยซะกะขะะะะ-ะะยป (ะะตะฝั 1)

### **ะฆะตะปั ะดะฝั**
ะ ะบะพะฝัั ะดะฝั ะฑะพั ะดะพะปะถะตะฝ:
โ ะฒัะณะปัะดะตัั ะบะฐะบ ะะ
โ ะฝะต ะทะฐัะธะบะปะธะฒะฐัััั ะฝะฐ ะฒะพะฟัะพัะฐั  
โ ะฟะพะฝะธะผะฐัั ะบะพะฝัะตะบัั
โ ัะผะตัั ะดะตะปะฐัั ะฟัะตะดะฟะพะปะพะถะตะฝะธั
โ ัะฐะฑะพัะฐัั ััะฐะฑะธะปัะฝะพ

โ ะะตะท ัะฐััััะพะฒ
โ ะะตะท LLM
โ ะขะพะปัะบะพ ะปะพะณะธะบะฐ

### **ะะพัะพะบ ะดะฐะฝะฝัั**
1. Telegram ัะพะพะฑัะตะฝะธะต โ ะฟะฐััะตั โ ะบะพะฝัะตะบัั โ ะฟัะตะดะฟะพะปะพะถะตะฝะธั โ ะพัะฒะตั

### **ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั**
- **context.py** - ะตะดะธะฝัะน ะพะฑัะตะบั ัะพััะพัะฝะธั (ะกะะะะ ะะะะะะ)
- **parser.py** - ะฟัะพััะพะน ะฟะฐััะตั ะบะปััะตะฒัั ัะปะพะฒ
- **assumptions.py** - ะดะฒะธะณะฐัะตะปั ะฟัะตะดะฟะพะปะพะถะตะฝะธะน ("ะผะฐะณะธั ะะ")
- **human_recommendations.py** - ะฟะพะฝััะฝัะต ัะพะฒะตัั ะดะปั ะพะฟะตัะฐัะพัะฐ
- **handler.py** - ะณะปะฐะฒะฝัะน ะพะฑัะฐะฑะพััะธะบ ัะพะพะฑัะตะฝะธะน
- **telegram_bot.py** - ะผะธะฝะธะผะฐะปัะฝะฐั ะพะฑะตััะบะฐ ะดะปั Telegram

### **ะัะธะฝัะธะฟั**
- ะะดะธะฝ ะธััะพัะฝะธะบ ะธััะธะฝั (ะบะพะฝัะตะบัั)
- ะัะตะดะฟะพะปะพะถะตะฝะธั ะฒะผะตััะพ ะปะธัะฝะธั ะฒะพะฟัะพัะพะฒ
- ะงะตะปะพะฒะตัะฝัะน ัะทัะบ ะพะฑัะตะฝะธั
- ะะพััะตะฟะตะฝะฝะพะต ััะพัะฝะตะฝะธะต
- 
- cnc-assistant/
โโ bot/
โ  โโ telegram_bot.py        # ััะฐะฝัะฟะพัั (Telegram, CLI, Web)
โ  โโ handlers/
โ     โโ message_handler.py  # ะฒัะพะดะฝะฐั ัะพัะบะฐ
โ     โโ feedback_handler.py # ๐ / โ / ะฟัะฐะฒะบะธ
โ
โโ core/
โ  โโ context.py             # ะฟะฐะผััั ะฟะพะปัะทะพะฒะฐัะตะปั
โ  โโ dialog_manager.py      # FSM + active_step
โ  โโ assumptions.py         # ะปะพะณะธะบะฐ "ั ะฟัะตะดะฟะพะปะฐะณะฐั"
โ  โโ intent.py              # ัะพะฒะตั / ะฒะพะฟัะพั / ััะพัะฝะตะฝะธะต
โ  โโ rules_engine.py        # ัะตะถะธะผั ัะตะทะฐะฝะธั (rule-based)
โ
โโ data/
โ  โโ rules/
โ  โ  โโ cutting_modes.yaml  # ัะฐะฑะปะธัั, ะฝะต ะบะพะด
โ  โโ logs/
โ     โโ dialogs.jsonl       # ะฒัะต ะดะธะฐะปะพะณะธ
โ     โโ corrections.jsonl   # ะทะพะปะพััะต ะฟัะฐะฒะบะธ
โ
โโ docs/
โ  โโ roadmap.md             # ะฟััั ะบ LLM
โ
โโ README.md
โโ requirements.txt
